<div id="bl-pl-icon" style="overflow-x: hidden; background-color: black; background-image: url({{'classy-fabric.png' | asset_url }});" class="bl-pl-icon-{{section.id}} container-fluid">
<div class="bl-pl-icon-header">
  <img src="{{section.settings.section_image | img_url: 'master'}}" alt="IRiS ICON" />
  <h2 class="bl-h2">{{section.settings.header_title}}</h2>
  <p class="bl-icon-sub pb-3">{{section.settings.header_sub}}</p>
</div>
<div class="icon-vid">
  <iframe
  title="Blizzard Preview"
  src="https://youtube.com/embed/0gFvVwGgEw4"
  width="640"
  height="360"
  frameborder="0"
  webkitallowfullscreen
  mozallowfullscreen
  allowfullscreen
></iframe>
</div>
    <div class="row" style="margin: 0 auto; max-width: 1300px; padding-bottom :3em;">
        {% for product in collections[section.settings.collection].products limit: section.settings.limit  %}
        <div class="bl-{{section.id}} bl-pl-icon-box col-sm mx-{{section.settings.h_gutter}}">
            <div class="bl-icon-img-container" >
                <img {% if product.handle == 'iris-icon-ip3'%}style="transform: scale(0.8);" {% endif %} onclick="javascript:location.href='{{product.url}}'" class="p-3" src="{{product.featured_image | img_url: 'master' }}" alt="{{product.title}}">
                {% include 'icon-bg-element' %}
              </div>
            <h3 class="text-center"><a href="{{product.url}}">{{product.title}}</a></h3>
            <h4 class="text-center;">{{  product.metafields.f_b.Product_Subtitle | strip_html }}</h4>
            <a href="{{product.url}}" class="btn btn-blue">Learn More</a>
           <div class="bl-icon-spec-list">
            {{ product.metafields.f_b.Tech_Specs }}
           </div>
        </div>
        {% endfor %}
    </div>
</div>

  {% schema %}

{
    "name": "Collection Lineup",
    "settings": [
        {
            "type": "header",
            "content": "Collection Lineup"
        }, {
            "type": "image_picker",
            "id": "section_image",
            "label": "Image Header"
        }, {
            "type": "text",
            "id": "header_title",
            "label": "Section Title"
        }, {
            "type": "text",
            "id": "header_sub",
            "label": "Section Subheadline"
        }, {
            "type": "color",
            "id": "background_color",
            "label": "Background Color"
        }, {
            "type": "number",
            "id": "limit",
            "label": "Product Limit"
        }, {
            "type": "range",
            "id": "h_gutter",
            "min": 0,
            "max": 5,
            "step": 1,
            "label": "Horizontal Gutter",
            "default": 3
        }, {
            "type": "collection",
            "id": "collection",
            "label": "Collection"
        }
    ],
    "presets": [
        {
            "name": "Collection Lineup",
            "category": "Image"
        }
    ]
}

{% endschema %}

<style>

  @media screen and (max-width: 768px) {
    .iris-icon-item img {
      max-height: 48px;
    }

    .iris-icon-item {
      width: 33%;
    }

    .iris-icons .flex-container {
      justify-content: center;
    }

    .iris-icons h3 {
    font-size: 17px;
    padding-top: 14px;
    }

  }

.radiant-circle {
    width: 360px;
    position: absolute;
    z-index: -1;
    left: 0;
    right: 0;
    margin: 0 auto;
    opacity: .7;
}
.bl-icon-spec-list {
    text-align: center;
    color: white;
    max-width: 310px;
    margin: 0 auto;
    margin-top: 3em;

}


.bl-icon-spec-list p {
    border-bottom: 1px solid rgba(255,255,255,.25);
    padding: 10px;
    margin: 0;
}

h3.text-center.pb-1 sup {
    font-size: .4em;
    top: -15px;
    opacity: .4;
}

  #bl-pl-icon {
    padding: 2em 0;
  }
  .bl-pl-icon-header {
    text-align: center;
  }
.bl-pl-icon-header img {
  width: 90%;
    max-width: 380px;
    margin: 0 auto;
    display: block;
}

#bl-pl-icon h2.bl-h2 {
    color: white;
    font-weight: 600;
    font-size: 2.7em;
    padding-top:30px;
}

h3.text-center.pb-1 a {
  color: #0df1ab
}

p.bl-icon-sub.pb-3 {
    font-size: 21px;
    color: gray;
    margin-bottom: 30px;
}

    .bl-pl-icon-box a{
        color: #1ff7b2;
    }

    .bl-pl-icon-box .btn-blue {
      margin: 0 auto;
    display: table;
    margin-bottom: 1em;
    color: white;
    }

    .bl-pl-icon-box h4{
        font-weight: 500;
        font-family: "Source Sans Pro", sans-serif;
        text-align: center;
    padding-bottom: 6px;
    color: #b1b1b1;
    }
    .bl-icon-img-container {
    display: flex;
    align-items: center;
}

.icon-vid {
    margin: 0 auto;
    display: block;
    text-align: center;
    margin-bottom: 3em;
}

    .bl-pl-icon-box img {max-height: 370px;display: flex;margin: 0 auto;}
</style>

<script>




    gsap.set(".bl-{{section.id}}", {
    y: 100,
    opacity: 0
    })
    gsap.to(".bl-{{section.id}}", {
    y: 0,
    opacity: 1,
    stagger: {
    amount: 1.5,
    ease: "power3.out"
  },
  scrollTrigger: {
    trigger: ".bl-pl-icon-{{section.id}}",
    start: "top 100%",
    end: "+=300",
    scrub: 1,
    duration: 2.5, ease: "power3.out",
  }
});
</script>