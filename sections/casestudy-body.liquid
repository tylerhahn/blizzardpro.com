<div class="cs-body">
    <div class="cs-container">
        {% if section.settings.body_1_title != blank %}
            <h3>{{ section.settings.body_1_title }}</h3>
        {% endif %}
        {% if section.settings.body_1 != blank %}
            {{section.settings.body_1 | newline_to_br}}
        {% endif %}


        {% if section.settings.image_1 != blank %}
            <div class="cs-fw-image">
                <img src="{{section.settings.image_1 | img_url: 'master'}}"/>
            </div>
        {% endif %}

        {% if section.settings.body_2_title != blank %}
            <h3>{{ section.settings.body_2_title }}</h3>
        {% endif %}

        {% if section.settings.body_2 != blank %}
            {{section.settings.body_2 | newline_to_br}}
        {% endif %}

        {% if section.settings.image_2 != blank %}
            <div class="cs-fw-image">
                <img src="{{section.settings.image_2 | img_url: 'master'}}"/>
            </div>
        {% endif %}

        {% if section.settnigs.form %}
        <div class="bl-dynamic-form" style="background-color: {{section.settings.background_color}}">
            <div class="row mx-5 my-0 py-5 mx-80">
                <div class="row">
                    <h3 style="color: {{section.settings.text_color}}">{{section.settings.form_text}}</h3>
                </div>
                <div class="row bl-{{section.id}}"></div>
            </div>
        </div>
        {% endif %}

        {% if section.settings.body_3_title != blank %}
            <h3>{{ section.settings.body_3_title }}</h3>
        {% endif %}

        {% if section.settings.body_3 != blank %}
            {{section.settings.body_3 | newline_to_br}}
        {% endif %}

    </div>
</div>

{% if section.settings.form %}
<!--[if lte IE 8]>
<script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
<![endif]-->
<script charset="utf-8" src="//js.hsforms.net/forms/v2.js" type="text/javascript"></script>
<script>
  hbspt.forms.create({
    portalId: "4135982",
    formId: "2d69787c-6bed-419b-8678-86c51dd1e234",
      target: ".bl-{{section.id}}",
      onFormSubmit:  () => formSubmitGA('dynamic_hubspot_form'),
      onFormReady: setPageSlugToForm
  });

  function setPageSlugToForm() {
    $('input[name="dynamic_shopify_form_referrer"]').val('{{section.settings.hs_value}}').change();
  }
  </script>


<style>

.submitted-message {
    font-size: 1.7em;
    border-radius: 100px;
    border: 4px solid {{section.settings.button_color}};
    text-align: center;
    display: table;
    padding: 6px 20px 0 20px;
    color: white;
}
    .bl-dynamic-form h3 span{
    border-bottom: 5px solid {{section.settings.button_color}};
    }
    .bl-dynamic-form input.hs-button.primary.large{
        background: {{section.settings.button_color}};
    }
    label#label-email-2d69787c-6bed-419b-8678-86c51dd1e234{
        color: {{section.settings.text_color}};
    }
    .bl-dynamic-form h3{
        font-size: 2em;
    font-family: 'Source Sans Pro';
    text-transform: none;
    letter-spacing: 0;
    }
    form#hsForm_2d69787c-6bed-419b-8678-86c51dd1e234 {
    display: flex;
    align-items: flex-end;
}

label.hs-error-msg {
    display: none;
}

.hs_submit.hs-submit {
    margin: 0;
}

input.hs-button.primary.large {
    margin: 0;
    border: none;
}

.hs_email.hs-email.hs-fieldtype-text.field.hs-form-field {
    margin: 0;
}

input#email-2d69787c-6bed-419b-8678-86c51dd1e234 {
    border-radius: 0px;
    background: white;
    border: none;
    margin-right: 10px;
}
.bl-dynamic-form .row {
    max-width: 430px;
    margin: 0 auto !important;
}
</style>


{% endif %}

<style>

.cs-body h3 {
    text-transform: inherit;
    color: blue;
    padding-bottom: .5em;
}


.cs-container p {padding: 0;margin: 0; padding-bottom: 1em;}

    .cs-container {
    width: 90%;
    max-width: 960px;
    margin: 0 auto;
}

.cs-fw-image {
    margin: 3em 0; width: 100%;
}

.cs-fw-image img {
    width: 100%;
}

@media screen and (min-width: 1030px) {
    .cs--body {
        width: 70%;
    }
}

@media screen and (min-width: 1280px) {
    .cs--body {
    width: 55%;
    margin-top: 2em;
    }

    .cs-body{
        font-size: 20px;
    }

    .cs-container {
    padding: 0 2em;
}

}

</style>

{% schema %}

{
    "name": "Case Study Body",
    "class": "cs--body",

    "settings": [
        {
            "type": "textarea",
            "id": "body_1_title",
            "label": "Body Title 1"
        },
        {
        "type": "richtext",
        "id": "body_1",
        "label": "Body Copy 1"
        },
        {
            "type": "image_picker",
            "id": "image_1",
            "label": "Image 1"
        },
        {
            "type": "checkbox",
            "id": "form",
            "label": "Include DSF Form"
        },
        {
            "type": "text",
            "id": "form_text",
            "label": "Form Text"
        },
        {
            "type": "color",
            "id": "background_color",
            "label": "Form Background Color",
            "default": "#000000"
        }, {
            "type": "color",
            "id": "text_color",
            "label": "Form Text Color",
            "default": "#000000"
        }, {
            "type": "color",
            "id": "button_color",
            "label": "Form Button Color",
            "default": "#000000"
        }, {
            "type": "text",
            "id": "hs_value",
            "label": "Hubspot Form Value"
        }
        {
            "type": "textarea",
            "id": "body_2_title",
            "label": "Body Title 2"
        },
        {
            "type": "richtext",
            "id": "body_2",
            "label": "Body Copy 2"
        },
        {
            "type": "image_picker",
            "id": "image_2",
            "label": "Image 2"
        },
        {
            "type": "textarea",
            "id": "body_3_title",
            "label": "Body Title 3"
        },
        {
            "type": "richtext",
            "id": "body_3",
            "label": "Body Copy 3"
        }
    ]
}

{% endschema %}