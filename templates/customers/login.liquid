{% layout settings.customer_layout %}
<section id="blacktop">

    <div id="create-customer" id="template">
        <div id="customer">
            <div class="reg-head">
                <h1>Sign In</h1>
            </div>

            {% form 'customer_login' %}
                {{ form.errors | default_errors }}

                <div class="clearfix large_form" id="login_email">
                    <label class="login" for="customer_email">Email Address</label>
                    <input class="large" id="customer_email" name="customer[email]" size="30" type="email" value=""/>
                </div>

                {% if form.password_needed %}

                    {% comment %}
                        Customer Account Login
                    {% endcomment %}

                    <div class="clearfix large_form" id="login_password">
                        <label class="login" for="customer_password">Password</label>
                        <input class="large password" id="customer_password" name="customer[password]" size="16" type="password" value=""/>
                        <div id="forgot_password">
                            <a class="forgot-pw" href="#" onclick="showRecoverPasswordForm();return false;">Forgot your password?</a>
                        </div>
                    </div>

                {% endif %}

                <div class="action_bottom">
                    <input class="btn" type="submit" value="Sign In"/>
                    <a class="btn btn-white" href="/account/register">or Sign up</a>
                </div>
            {% endform %}
        </div>

        {% comment %}
            Recover Password Form
        {% endcomment %}

        <div class="center-screen">
            <div class="clearfix large_form" id="recover-password">
                <div class="reset_password_header">
                    <h2 class="title">Reset Password</h2>
                    <p class="note">We will send you an email to reset your password.</p>
                </div>

                {% form 'recover_customer_password' %}
                    {{ form.errors | default_errors }}

                    <div class="clearfix large_form" id="recover_email">
                        <label class="login" for="customer_password">Email</label>
                        <input class="large password" id="recover-email" name="email" size="16" type="email" value=""/>
                    </div>
                    <div class="action_bottom">
                        <input class="btn" type="submit" value="Submit"/>
                        <span class="note">or
                            <a href="#" onclick="hideRecoverPasswordForm();return false;">Cancel</a>
                        </span>
                    </div>
                {% endform %}
            </div>
        </div>

        {% comment %}
            Guest Login form for shops with optional customer accounts. This form is displayed only when users click on the checkout link
                                                                            on the cart page.
        {% endcomment %}

        {% if shop.checkout.guest_login %}
            <div id="guest">
                <div class="template_header">
                    <h3 class="title">Guest Login</h3>
                </div>
                {% form 'guest_login' %}
                    <input class="btn" type="submit" value="Continue as Guest"/>
                {% endform %}
            </div>
        {% endif %}
    </div>
</section>

<style>
    .forgot-pw {
        color: gray;
        font-weight: normal;
        font-size: 16px;
        margin-top: 10px;
        display: block;
        text-decoration: underline;
    }
</style>

<script type="text/javascript">
    function showRecoverPasswordForm() {
        document
            .getElementById("recover-password")
            .style
            .display = "inline-block";
        document
            .getElementById("customer")
            .style
            .display = "none";
    }

    function hideRecoverPasswordForm() {
        document
            .getElementById("recover-password")
            .style
            .display = "none";
        document
            .getElementById("customer")
            .style
            .display = "inline-block";
    }

    if (window.location.hash == "#recover") {
        showRecoverPasswordForm()
    }
</script>
