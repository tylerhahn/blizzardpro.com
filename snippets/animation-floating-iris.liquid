<?xml version="1.0"?>
<div id="iris-target"></div>


<style>

    /* #iris-ct-ani {
        width: 500px;
        position: relative;
    } */
    /*
    .iris-center {
        display: flex;
        align-item: center;
        justify-content: center;
        height: 100vh;
    } */

    .box-shadow-iris {
        position: relative;
        bottom: -70px;
        border-radius: 50%;
        background: radial-gradient(farthest-side,rgb(0 0 0 / 57%) ,transparent);
        filter: blur(10px);
        width: 460px;
        height: 80px;
        animation: iris-scaleup 4.5s forwards ease-in-out;
    }

    .iris-fader {
        max-width: 480px;
        width: 90%;
        margin: 0 auto;
        opacity: 0;
        transform: scale(1);
        animation: iris-fadein 2s forwards ease-in-out, iris-scaleup 4.5s forwards ease-in-out;
    }


    .blue-iris {
        opacity: 0;
        animation: iris-fadein 1s 1s forwards ease-in-out;
    }
    .purple-iris {
        opacity: 0;
        animation: iris-fadein 1s 1.5s forwards ease-in-out;
    }
    .red-iris {
        opacity: 0;
        animation: iris-fadein 1s 2s forwards ease-in-out;
    }
    .orange-iris {
        opacity: 0;
        animation: iris-fadein 1s 2.5s forwards ease-in-out;
    }
    .yellow-iris {
        opacity: 0;
        animation: iris-fadein 1s 3s forwards ease-in-out;
    }
    .green-iris {
        opacity: 0;
        animation: iris-fadein 1s 3.5s forwards ease-in-out;
    }

    .iris-center {
        transform-origin: center;
        animation: iris-rotate 4.5s forwards ease-in-out;
    }


    @keyframes iris-fadein {

        from: {
            opaciy: 0;
        }

        to {
            opacity: 1;
        }

    }

    @keyframes iris-scaleup {

        from: {
            transform: scale(1);
        }

        to {
            transform: scale(1.2);
        }
    }

    @keyframes iris-rotate {

        from: {
            transform: rotate(0deg)
        }

        to {
            transform: rotate(-720deg)
        }
    }
</style>

<script>

    const injected = `<svg class="iris-fader" data-name="Layer 1" id="iris-ct-ani" viewBox="0 0 408.85 288.2" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <style>.a78aed59-4177-4113-840c-37ad5c6dd06c,.abf900e0-7f6b-444e-b2b7-ce97be2b6ea7,.b0350f9d-e05a-49a7-a4e9-6b84d0d988ef,.b07c1d60-8939-43e5-bf2a-3bf02a6fb876,.e1c997a3-8a2f-400c-9d16-2004af405159,.f4193dbd-c4a1-496b-a2af-727be64f50e5,.f88ea212-ecd4-448c-93ac-99e217df9d1b{fill:none;stroke-miterlimit:10;}.f88ea212-ecd4-448c-93ac-99e217df9d1b{stroke:#4f495e;}.abf900e0-7f6b-444e-b2b7-ce97be2b6ea7{stroke:#f4ed3e;}.f4193dbd-c4a1-496b-a2af-727be64f50e5{stroke:#009c50;}.e1c997a3-8a2f-400c-9d16-2004af405159{stroke:#004a86;}.b07c1d60-8939-43e5-bf2a-3bf02a6fb876{stroke:#4d337b;}.a78aed59-4177-4113-840c-37ad5c6dd06c{stroke:#9c2448;}.b0350f9d-e05a-49a7-a4e9-6b84d0d988ef{stroke:#d25e3d;}</style>
        </defs>

        <path class="f88ea212-ecd4-448c-93ac-99e217df9d1b" d="M396.67,132.79,339.85,76.91,320.37,57.78c-7-6.82-13.75-13.48-20-19.67C270.54,8.88,235,2.19,216.2.82A109.25,109.25,0,0,0,204.44.56a116.23,116.23,0,0,0-18.55,1c-19.75,2.51-51,10.68-77.37,36.58-6,5.87-12.39,12.16-19,18.61-8.88,8.72-18.06,17.76-26.86,26.43C56.8,88.91,51.12,94.54,45.78,99.78L.71,144.07l11.5,11.32s23.84,23.47,51.22,50.37l19.43,19.11c8.88,8.73,17.66,17.34,25.64,25.17,25.21,24.79,55.05,33.35,74.9,36.23a125.48,125.48,0,0,0,18.4,1.43c1.13,0,2,0,2.64-.05,1.64.05,5.21.1,10.15-.22,18.21-1.18,55.35-7.5,85.74-37.37,6.4-6.29,13.32-13.06,20.38-20l26.91-26.43,49.05-48.23,11.47-11.29Zm-118.54-72c8,7.87,16.86,16.54,25.8,25.34h0l-18.14,31.32L237.77,37A98.64,98.64,0,0,1,278.13,60.77ZM247.39,183.69l-.58,1L246,186l0,.08-.11.18-1.42,2.46,0,.06-8.59,14.82H166.25l-35.08-60.84v0l35.05-59.6h68.35l24.5,41.05.24.42,1.14,1.93.26.42.21.35,1,1.72.51.87,1,1.69,7.16,12h0l-22.46,38.77Zm-44-151.44.56,0h.29l14.56,24.42H135.14C165.64,30.4,203,32.25,203.38,32.25ZM45.94,144.1,68,122.38c12.16-12,26.25-25.83,39.89-39.23h27.64L80,177.62C66.53,164.35,54.31,152.32,45.94,144.1Zm84.79,83.31c-9.68-9.49-20.49-20.11-31.27-30.71L115.77,169,161,247.45A96.44,96.44,0,0,1,130.73,227.41ZM205.39,256l-1-.06-.92.06a70.32,70.32,0,0,1-7.16-.16L181.5,230.05h93.8C244.59,257.89,205.82,256,205.39,256Zm97-52.34H266.42l57-98.37c15.59,15.3,30,29.49,39.51,38.85C349.2,157.58,325.28,181.13,302.37,203.62Z"/>

        <g class="iris-center">
            <path class="abf900e0-7f6b-444e-b2b7-ce97be2b6ea7 yellow-iris" d="M190.08,144.84s-14.93,2.58-21.94-13.61,3.19-15.51-9.41-26.71c.63.56,4.28.23,5.14.33a41,41,0,0,1,10.86,2.6,21.77,21.77,0,0,1,12.86,16.36C188.68,130.18,183.8,140.23,190.08,144.84Z"/>

            <path class="f4193dbd-c4a1-496b-a2af-727be64f50e5 green-iris" d="M196.05,134.87s-9.87-11.5.44-25.81,14.95-5.22,18.1-21.78c-.16.83,2,3.79,2.36,4.58a41.14,41.14,0,0,1,3.33,10.66A21.77,21.77,0,0,1,212.83,122C207.92,126.15,196.79,127.11,196.05,134.87Z"/>
            <path class="e1c997a3-8a2f-400c-9d16-2004af405159 blue-iris " d="M207.17,133.13s5.61-14.08,23.08-11.58,11.54,10.83,27.68,6c-.81.24-2.43,3.53-3,4.21a41.39,41.39,0,0,1-7.91,7.9A21.77,21.77,0,0,1,226.39,142C220.4,139.6,214.39,130.18,207.17,133.13Z"/>

            <path class="b07c1d60-8939-43e5-bf2a-3bf02a6fb876 purple-iris" d="M212.54,143.43s15-2.4,21.77,13.88-3.38,15.46,9.09,26.82c-.63-.57-4.28-.28-5.14-.39A40.83,40.83,0,0,1,227.43,181a21.75,21.75,0,0,1-12.66-16.52C213.76,158.11,218.77,148.12,212.54,143.43Z"/>

            <path class="a78aed59-4177-4113-840c-37ad5c6dd06c red-iris" d="M208.3,154.67s9.39,11.91-1.52,25.78-15.15,4.58-19,21c.2-.82-1.84-3.87-2.16-4.67a40.88,40.88,0,0,1-2.88-10.8A21.75,21.75,0,0,1,191,166.88C196.08,162.89,207.24,162.4,208.3,154.67Z"/>

            <path class="b0350f9d-e05a-49a7-a4e9-6b84d0d988ef orange-iris" d="M196.7,154.17s-5.41,14.16-22.91,11.91-11.7-10.67-27.77-5.55c.8-.26,2.38-3.56,2.9-4.25a40.56,40.56,0,0,1,7.8-8,21.75,21.75,0,0,1,20.63-2.7C183.37,147.89,189.52,157.22,196.7,154.17Z"/>
        </g>
        <div class="box-shadow-iris"></div>
    </svg>`;

    const el = document.querySelector("#iris-target")
    const observer = new window.IntersectionObserver(([entry]) => {
        if (entry.isIntersecting) {
            el.innerHTML = injected;
            console.log("ENTER")
            return
        }
        console.log("LEAVE")
    }, {
        root: null,
        threshold: 0.1, // set offset 0.1 means trigger if atleast 10% of element in viewport
    })

    observer.observe(el);
</script>